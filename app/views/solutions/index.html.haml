%h1 –†–µ—à–µ–Ω–∏—è –Ω–∞ #{@task.name}
%p= link_to '–ö—ä–º –∑–∞–¥–∞—á–∞—Ç–∞', @task, class: :back

= admin_only do
  - if @task.manually_scored?
    %p
      %em –¢–∞–∑–∏ –∑–∞–¥–∞—á–∞ —Å–µ –æ—Ü–µ–Ω—è–≤–∞ —Ä—ä—á–Ω–æ. #{link_to '–ó–∞–ø–æ—á–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–Ω–µ', unscored_task_solutions_path(@task)}.
  - elsif TaskCheckWorker.queued? @task.id
    %p
      %em
        –í –º–æ–º–µ–Ω—Ç–∞ —Ç–∞–∑–∏ –∑–∞–¥–∞—á–∞ —Å–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞. –í —Å–ª—É—á–∞–π, —á–µ —Ç–≤—ä—Ä–¥–µ –¥—ä–ª–≥–æ –Ω–µ
        —Å–µ —Å–ª—É—á–∏ –Ω–∏—â–æ, –ø–æ–≥–ª–µ–¥–Ω–∏ #{link_to '–æ–ø–∞—à–∫–∞—Ç–∞', sidekiq_web_path}
        –∑–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è.
  - else
    = link_to '–ü—É—Å–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ', task_check_path(@task), method: :create, class: :action

%p
  %strong= @solutions.count
  —Ä–µ—à–µ–Ω–∏—è

%table.solutions
  %thead
    %tr
      %th.name –ò–º–µ
      - if admin?
        %th.reviewer –ü—Ä–æ–≤–µ—Ä—è–≤–∞—â
      %th.points –¢–æ—á–∫–∏
      %th.results –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ
  %tbody
    - @solutions.each do |solution|
      %tr
        %td.name= link_to solution.user_name, [@task, solution]
        - if admin?
          %td.reviewer
            - if solution.reviewer
              = user_thumbnail solution.reviewer, :size30
            - else
              = render 'solutions/review', info: 'üîé', solution: solution
        %td.points
          - if show_results? @task
            –¢–æ—á–∫–∏: <span data-points>#{solution.total_points}</span> (<span data-adjustment>#{solution.adjustment}</span> –¥–æ–±–∞–≤–∫–∞)
        %td.results <span class="passed">–£—Å–ø–µ—à–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ:</span> #{solution.passed_tests}<span class="failed">, –ù–µ—É—Å–ø–µ—à–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ:</span> #{solution.failed_tests}<span class="lines">, –†–µ–¥–æ–≤–µ:</span> #{solution.rows}<span class="comments">, –ö–æ–º–µ–Ω—Ç–∞—Ä–∏:</span> #{solution.comments.count}
